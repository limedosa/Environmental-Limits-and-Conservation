---
title: "ES 220 Lab 4 - Solar Panel Model"
author: "Linda Dominguez"
date: "Feb 14, 2024"
output:
  pdf_document: default
editor_options:
  chunk_output_type: console
---


```{r, include = FALSE}
# This chunk installs weplot and helps with pdf formatting (and is excluded from knitting)
source("setup/setup.R")

```


## Load solar radiation and observed electrical  power data

```{r Load_Data}
load("Lab 4 Data - Jan 6 2021.RData")
weplot(x=Hour, y=Solar.Radiation.Wm2, type="point+line") #Radiant power
weplot(x=Hour, y=Elec.Observed.W, type="point+line") #actual power observed 



```


## Define initial input and output ("I/O") objects

```{r Initial_IO}
#Input objs
Efficiency<-.15 #panel effieiciency
Panel.Area<-1.41#area of individual panels 
Num.Panels<-48#num panels total

#intial cals
Total.Area<-Panel.Area*Num.Panels #total panel area
Time<-length(Hour) #length of dataset 

#output objs
Elec.Model.W<-numeric() #creates empty obj of length 0



```


## Solar Panel Model 1

This assumes panels are lying flat on the ground

```{r Solar_Model_1}
#Loop 
for (t in 1:Time){
  #calculate electricity produced
  Elec.Model.W[t]<-Total.Area * Solar.Radiation.Wm2[t]*Efficiency
}

#convert from watts to killowats 
#result kilowatts 
Elec.Observed.kW<-Elec.Observed.W/1000 #watts to kw
Elec.Model.kW<-Elec.Model.W/1000 #watss to kw




```


## Plot results

```{r Plot_Results}
#compare modeled and observed power
weplot(
  x=Hour, y=list(Elec.Observed.kW, Elec.Model.kW),
  type='line',
  xlab='Hour of the day', 
  ylab="Electrical power(kw)"
)



```


## Total Energy

```{r Total_Energy}
#Display total energy produced over 24H (kWh)
Elec.Observed.kWh<-mean(Elec.Observed.kW)*Time #total energy in kwh
Elec.Model.kWh<-mean(Elec.Model.kW)*Time #total energy kwh

print(Elec.Observed.kWh)
print(Elec.Model.kWh)


```


## Solar Panel Model 2

Solar panel model that accounts for panel and sun angles

```{r Solar_Model_2}




```


## Solar Panel Model 3 - Assignment

Solar panel model that accounts for panel and sun angles AND works with data on any day of the year

```{r Solar_Model_3}




```

